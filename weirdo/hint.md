## ヒント1

- ある人間の種類を**正直者**だと仮定すると、その人間の発言から、ある人間の種類が決まることがあります。これを繰り返し行うことを考えます。

## ヒント2

- ある人間の種類を**正直者**だと仮定すると、その人間が**嘘つき**だと決まることがあります。これは仮定が間違っていて、その人間は**正直者**ではないと分かります。
- 実は、その場合いつも、**嘘つき**だと仮定しても矛盾が起こり、その人間は**変質者**だとわかります。
- グラフに見立てることを考えます。

## ヒント3

- 各人間は、以下のどちらかのタイプのグループに分けることができます。
  - 正直者と嘘つきだけ含まれる。正直者と嘘つきを反転した 2 つの場合のみ性質を満たす。
  - 全員変質者である。
- よって、各グループのうち、前者のタイプのグループであるもの全てについて、 $\max($含まれる正直者の数$,$含まれる嘘つきの数$)$ を求めれば、その和が答えです。  
  
- 頂点数 $2N$ のグラフを考えて、頂点たちに 人間 $i$ が**正直者**である状態、人間 $i$ が**嘘つき**である状態を割り当てます。
- $2$ つの状態が同時に起こる場合に、対応する $2$ つの頂点が連結になるようにします。
- ある人間が**正直者**である状態と**嘘つき**である状態の頂点が連結の時、仮定が間違っていたとして**変質者**に対応させます。
- **正直者**の数を数えながらグラフを作ることに注意して、実装します。
- グループ分けを実装するのに UnionFind が便利です。
